@model AstroTech.DAL.Models.Product

@{
    ViewData["Title"] = "Add Product";
}

<h1>Add a New Product</h1>

<form method="post" enctype="multipart/form-data">
    @Html.AntiForgeryToken()

    <div class="form-group">
        <label for="ProductName">Product Name</label>
        <input type="text" class="form-control" id="ProductName" name="ProductName" value="@Model.ProductName" required />
        <span asp-validation-for="ProductName" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label for="ProductDescription">Product Description</label>
        <textarea class="form-control" id="ProductDescription" name="ProductDescription" required>@Model.ProductDescription</textarea>
        <span asp-validation-for="ProductDescription" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label for="BasePrice">Base Price</label>
        <input type="number" step="0.01" class="form-control" id="BasePrice" name="BasePrice" value="@Model.BasePrice" required />
        <span asp-validation-for="BasePrice" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label for="SalePrice">Sale Price (Optional)</label>
        <input type="number" step="0.01" class="form-control" id="SalePrice" name="SalePrice" value="@Model.SalePrice" />
        <span asp-validation-for="SalePrice" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label for="StockQuantity">Stock Quantity</label>
        <input type="number" class="form-control" id="StockQuantity" name="StockQuantity" value="@Model.StockQuantity" required />
        <span asp-validation-for="StockQuantity" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label for="SpecificationsRaw">Specifications (JSON Format)</label>
        <textarea class="form-control" id="SpecificationsRaw" name="SpecificationsRaw" required>@Model.SpecificationsRaw</textarea>
        <span asp-validation-for="SpecificationsRaw" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label for="CategoryId">Category</label>
        <select class="form-control" id="CategoryId" name="CategoryId" required>
            <option value="">Select a Category</option>
            @foreach (var category in ViewBag.Categories as List<AstroTech.DAL.Models.Category>)
            {
                <option value="@category.Id">@category.CategoryName</option>
            }
        </select>
        <span asp-validation-for="CategoryId" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label for="BrandId">Brand</label>
        <select class="form-control" id="BrandId" name="BrandId" required>
            <option value="">Select a Brand</option>
            @foreach (var brand in ViewBag.Brands as List<AstroTech.DAL.Models.Brand>)
            {
                <option value="@brand.Id">@brand.Name</option>
            }
        </select>
        <span asp-validation-for="BrandId" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label for="ProductImage">Upload Product Image</label>
        <input type="file" class="form-control" id="ProductImage" name="ProductImage" accept="image/*" />
        <span class="text-muted">Accepted formats: jpg, png, jpeg</span>
    </div>

    <button type="submit" class="btn btn-primary">Add Product</button>
</form>

@section Scripts {
    @await Html.PartialAsync("_ValidationScriptsPartial")
}
